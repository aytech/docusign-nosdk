{"version":3,"sources":["components/button/button.js","components/label/label.js","components/submit-form/submit-form.js","components/footer/footer.js","components/modal/modal.js","components/page-header/page-header.js","components/page-body/page-body.js","components/app/app.js","index.js"],"names":["Button","props","content","loading","disabled","react_default","a","createElement","className","type","Label","htmlFor","for","text","SubmitForm","defaultUser","name","email","state","authenticated","error","errorMessage","subject","success","successMessage","user","_this","submitForm","event","preventDefault","validateRecipient","signDocument","callback","setState","_this$state","_this$state$user","console","log","fetch","body","JSON","stringify","headers","Content-Type","method","mode","then","response","_this$state2","status","statusText","updateSubject","target","value","updateRecipient","formUser","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","users","Symbol","iterator","next","done","id","concat","firstName","lastName","err","return","_this$state3","this","userElements","key","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","push","onSubmit","label","onChange","rows","placeholder","role","components_button_button","Component","Footer","Modal","show","_this$props","onClose","header","children","modalBodyClass","iframe","data-dismiss","aria-label","onClick","aria-hidden","React","PageHeader","admin","gmail","seznam","authenticateAdmin","authenticate","authenticateGmail","authenticateSeznam","_this2","onUserLoad","json","data","userInfo","catch","userId","_this3","markup","onSignDocument","Fragment","PageBody","src","width","height","scope","App","signModalOpen","openSignDocumentModal","closeSignDocumentModal","onDocumentSubmit","BrowserRouter","Switch","Route","path","render","page_header_PageHeader","page_body_PageBody","modal_modal","submit_form_SubmitForm","footer_footer","exact","window","close","ReactDOM","app_app","document","getElementById"],"mappings":"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","file":"static/js/main.a9ad91d9.chunk.js","sourcesContent":["import React from 'react';\nimport './button.css';\n\nconst Button = (props) => {\n\n  const { loading, disabled } = props;\n  let content;\n\n  if (loading === true) {\n    content = (\n      <div className=\"fa-sm\">\n        <i className=\"fas fa-sync fa-spin\"/>\n        Submit\n      </div>\n    );\n  } else {\n    content = 'Submit';\n  }\n\n  return (\n    <button\n      type=\"submit\"\n      className=\"btn btn-primary btn-block\"\n      disabled={ disabled === true }>\n      { content }\n    </button>\n  );\n};\n\nexport default Button;","import React from 'react';\n\nconst Label = (props) => {\n  const {\n    for: htmlFor,\n    text\n  } = props;\n\n  return (\n    <label htmlFor={ htmlFor }>\n      { text }\n    </label>\n  );\n};\n\nexport default Label;","import React, { Component } from 'react';\nimport './submit-form.css';\nimport Button from \"../button/button\";\nimport Label from \"../label/label\";\n\nexport default class SubmitForm extends Component {\n\n  defaultUser = {\n    name: '',\n    email: ''\n  };\n  state = {\n    authenticated: false,\n    error: false,\n    errorMessage: '',\n    loading: false,\n    subject: 'DocuSign Infor - Sample Signature Request',\n    success: false,\n    successMessage: '',\n    user: this.defaultUser\n  };\n\n  submitForm = (event) => {\n    event.preventDefault();\n    this.validateRecipient(this.signDocument);\n  };\n\n  validateRecipient = (callback) => {\n    const { user } = this.state;\n    if (user.name === '' || user.email === '') {\n      this.setState({\n        error: true,\n        errorMessage: 'Please select recipient'\n      });\n    } else {\n      this.setState({\n        error: false,\n        errorMessage: ''\n      }, callback);\n    }\n  };\n\n  signDocument = () => {\n    this.setState({ loading: true });\n    const { subject, user: { email, name } } = this.state;\n\n    console.log('Submit: ', subject, email, name);\n\n    fetch('/api/sign', {\n      body: JSON.stringify({\n        email,\n        name,\n        subject\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      mode: 'cors'\n    })\n      .then(response => {\n        let {\n          error,\n          errorMessage,\n          success,\n          successMessage\n        } = this.state;\n        if (response.status === 200) {\n          success = true;\n          successMessage = 'Document submitted successfully';\n        } else {\n          error = true;\n          errorMessage = response.statusText;\n        }\n        this.setState({\n          error,\n          errorMessage,\n          success,\n          successMessage,\n          loading: false\n        });\n      });\n  };\n\n  updateSubject = (event) => {\n    this.setState({\n      subject: event.target.value\n    });\n  };\n\n  updateRecipient = (event) => {\n    let formUser = this.defaultUser;\n    for (const user of this.props.users) {\n      if (user.id === event.target.value) {\n        formUser = {\n          name: `${ user.firstName } ${ user.lastName }`,\n          email: user.email\n        }\n      }\n    }\n    this.setState({\n      user: formUser\n    }, this.validateRecipient);\n  };\n\n  render() {\n    const {\n      error,\n      errorMessage,\n      loading,\n      subject,\n      success,\n      successMessage\n    } = this.state;\n    const userElements = [<option key={ 0 }>Select recipient</option>];\n    for (const user of this.props.users) {\n      userElements.push(\n        <option\n          key={ user.id }\n          value={ user.id }>\n          { user.firstName } { user.lastName }\n        </option>\n      );\n    }\n    return (\n      <form onSubmit={ this.submitForm }>\n        <div className=\"form-group\">\n          <Label for=\"recipient\" text=\"Select recipient\"/>\n          <select className=\"form-control\"\n                  onChange={ this.updateRecipient }>\n            { userElements }\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <Label for=\"subject\" text=\"Subject\"/>\n          <textarea\n            className=\"form-control\"\n            rows=\"3\"\n            id=\"subject\"\n            placeholder=\"Subject\"\n            value={ subject }\n            onChange={ this.updateSubject }/>\n        </div>\n        { error === true &&\n        <div\n          className=\"alert alert-danger\"\n          role=\"alert\">\n          { errorMessage }\n        </div>\n        }\n        { success === true &&\n        <div\n          className=\"alert alert-success\"\n          role=\"alert\">\n          { successMessage }\n        </div>\n        }\n        <Button\n          loading={ loading }\n          disabled={ error === true || loading === true }/>\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport './footer.css';\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer navbar-inverse navbar-fixed-bottom flex-centered\">\n      <div className=\"container flex-centered\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <p className=\"text-muted\"> @Copyright 2019 Infor a.s.</p>\n          </div>\n        </div>\n      </div>\n    </footer>\n  )\n};\n\nexport default Footer;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './modal.css';\n\nclass Modal extends React.Component {\n  render() {\n    // Render nothing if the \"show\" prop is false\n    if (!this.props.show) {\n      return null;\n    }\n\n    const {\n      onClose,\n      header,\n      children,\n      iframe\n    } = this.props;\n\n    const modalBodyClass = iframe ? 'modal-body iframe' : 'modal-body';\n\n    return (\n      <div className=\"backdrop\">\n        <div className=\"modal-container\">\n          <div className=\"modal-header\">\n            <h2>{ header }</h2>\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n              onClick={ onClose }>\n              <span aria-hidden=\"true\">Ã—</span>\n            </button>\n          </div>\n          <div className={ modalBodyClass }>\n            { children }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  show: PropTypes.bool,\n  children: PropTypes.node\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport './page-header.css';\n\nexport default class PageHeader extends Component {\n\n  users = {\n    admin: '8f4c470f-1a52-41ff-a86f-7f5dfa92ce16',\n    gmail: 'b3983a70-50f3-4e29-a7e5-4cb4216a6f54',\n    seznam: '6f1c97aa-7acc-4056-910d-e5b66f556c6a'\n  };\n\n  state = {\n    authenticated: false,\n    loading: true\n  };\n\n  componentDidMount() {\n\n    const { onUserLoad } = this.props;\n\n    fetch('/api/auth/authenticated', {\n      method: 'GET',\n      mode: 'cors'\n    })\n      .then(response => {\n        const authenticated = response.status === 200;\n        this.setState({\n          authenticated: authenticated,\n          loading: false\n        });\n        if (authenticated) {\n          return response.json();\n        }\n      })\n      .then(data => {\n        if (data !== undefined) {\n          // noinspection JSUnresolvedVariable\n          onUserLoad(data.userInfo, data.users);\n        }\n      })\n      .catch((error) => {\n        console.log('Error: ', error);\n      });\n  }\n\n  authenticate(userId) {\n    this.setState({\n      loading: true\n    });\n\n    fetch('/api/auth/jwt/' + userId)\n      .then((response) => {\n        const authenticated = response.status === 200;\n        this.setState({\n          authenticated: authenticated,\n          loading: false\n        });\n        if (authenticated) {\n          return response.json();\n        }\n      })\n      .then(data => {\n        if (data !== undefined) {\n          // noinspection JSUnresolvedVariable\n          this.props.onUserLoad(data.userInfo, data.users);\n        }\n      });\n  }\n\n  authenticateAdmin = () => {\n    return this.authenticate(this.users.admin)\n  };\n\n  authenticateGmail = () => {\n    return this.authenticate(this.users.gmail)\n  };\n\n  authenticateSeznam = () => {\n    return this.authenticate(this.users.seznam)\n  };\n\n  render() {\n\n    let markup = (\n      <div className=\"fa fa-2x inline\">\n        <i className=\"fas fa-sync fa-spin\"/>\n      </div>\n    );\n    const { onSignDocument } = this.props;\n\n    if (this.state.loading !== true && !this.state.authenticated) {\n      markup = (\n        <React.Fragment>\n          <button type='button' className='btn btn-primary btn-xs' onClick={ this.authenticateAdmin }>\n            Sign as Oleg (Infor - admin)\n          </button>\n          <button type='button' className='btn btn-primary btn-xs' onClick={ this.authenticateGmail }>\n            Sign as Oleg (Gmail - IDM)\n          </button>\n          <button type='button' className='btn btn-primary btn-xs' onClick={ this.authenticateSeznam }>\n            Sign as Oleg (Seznam - IDM)\n          </button>\n        </React.Fragment>\n      );\n    }\n\n    if (this.state.loading !== true && this.state.authenticated) {\n      markup = (\n        <button type='button' className='btn btn-primary btn-xs' onClick={ onSignDocument }>\n          Sign document\n        </button>\n      );\n    }\n\n    return (\n      <div className='page-header'>\n        <span className='file-name'>Resource file - <strong>demo_document.pdf</strong></span>\n        { markup }\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\n\nexport default class PageBody extends Component {\n\n  render() {\n    const defaultUser = {\n      id: '',\n      firstName: '',\n      lastName: '',\n      email: ''\n    };\n    let { user } = this.props;\n\n    if (user === undefined || user === null) {\n      user = defaultUser;\n    }\n\n    return (\n      <div className=\"page-body\">\n        <div className=\"row\">\n          <div className=\"col-md-9\">\n            <embed\n              src={ '/demo_document.pdf' }\n              width='800'\n              height='1100px'/>\n          </div>\n          <div className=\"col-md-3\">\n            <div className=\"table-responsive\">\n              <table className=\"table\">\n                <caption>Authenticated as:</caption>\n                <tbody>\n                <tr>\n                  <th scope=\"row\">Name:</th>\n                  <td>\n                    { user.firstName }&nbsp;\n                    { user.lastName }\n                  </td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">Email:</th>\n                  <td>{ user.email }</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">ID:</th>\n                  <td>{ user.id }</td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport './app.css';\nimport SubmitForm from \"../submit-form/submit-form\";\nimport Footer from \"../footer/footer\";\nimport Modal from \"../modal/modal\";\nimport PageHeader from \"../page-header/page-header\";\nimport PageBody from \"../page-body/page-body\";\n\nclass App extends Component {\n\n  state = {\n    signModalOpen: false,\n    user: null,\n    users: null\n  };\n\n  openSignDocumentModal = () => {\n    this.setState({\n      signModalOpen: true\n    });\n  };\n\n  closeSignDocumentModal = () => {\n    this.setState({\n      signModalOpen: false\n    });\n  };\n\n  onDocumentSubmit = () => {\n    this.setState({\n      signModalOpen: false,\n    });\n  };\n\n  onUserLoad = (user, users) => {\n    this.setState({\n      user, users\n    });\n  };\n\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route path='/' render={ () => {\n            return (\n              <div className='container main'>\n                <PageHeader\n                  onSignDocument={ this.openSignDocumentModal }\n                  onUserLoad={ this.onUserLoad }/>\n                <PageBody user={ this.state.user }/>\n                <Modal\n                  header=\"Sign document\"\n                  show={ this.state.signModalOpen === true }\n                  onClose={ this.closeSignDocumentModal }>\n                  <SubmitForm\n                    users={ this.state.users }\n                    onDocumentSubmit={ this.onDocumentSubmit }/>\n                </Modal>\n                <Footer/>\n              </div>\n            )\n          } } exact={ true }/>\n          <Route path='/iframe' render={ () => {\n            window.close();\n            return (\n              <h1>Closing</h1>\n            )\n          } }/>\n          <Route render={ () => <h2>Page not found!</h2> }/>\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}